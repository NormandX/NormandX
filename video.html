<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Vidéo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="logo" onclick="history.back()">← Retour</div>
</header>

<main style="padding:20px;max-width:900px;margin:auto">
  <video id="player" controls playsinline style="width:100%;border-radius:12px"></video>
</main>

<script>
const user=localStorage.getItem("connected");
if(!user) location.href="auth.html";

const id=Number(new URLSearchParams(location.search).get("id"));
let videos=JSON.parse(localStorage.getItem("videos")||"[]");
const v=videos.find(x=>x.id===id);
if(!v) location.href="home.html";

const player=document.getElementById("player");
player.src=v.v;
player.poster=v.poster;

/* plein écran mobile */
player.addEventListener("play",()=>{
 if(window.innerWidth<900 && player.requestFullscreen){
  player.requestFullscreen();
 }
});
</script>

</body>
</html>
